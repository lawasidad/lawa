<!-- ... [Header, style, and body code remain unchanged] ... -->

<div class="orders" id="ordersContainer">
  <p class="no-orders">هیچ داواکاریەک نییە.</p>
</div>

<div style="text-align: center; margin-top: 30px;">
  <button onclick="printSelectedOrders()" class="play-alarm-btn" style="background:#3182ce">پرینتی وەسڵە دیاریکراوەکان</button>
  <button onclick="deleteSelectedOrders()" class="play-alarm-btn" style="background:#e53e3e">سڕینەوەی وەسڵە دیاریکراوەکان</button>
</div>

<script>
  // ... [Other JS code remains unchanged] ...

  function createProductHTML(product) {
    return `
      <div class="product">
        <img src="${product.image}" alt="${product.name}" />
        <div class="product-name">${product.name}</div>
        <div class="product-price">${product.price.toLocaleString()} دینار</div>
      </div>
    `;
  }

  function renderOrders() {
    const orders = getOrders();

    if (orders.length === 0) {
      ordersContainer.innerHTML = '<p class="no-orders">هیچ داواکاریەک نییە.</p>';
      return;
    }

    ordersContainer.innerHTML = '';

    orders.forEach((order, index) => {
      const productsHTML = order.products.map(createProductHTML).join('');

      const orderHTML = document.createElement('div');
      orderHTML.className = 'order';
      orderHTML.setAttribute('data-index', index);

      orderHTML.innerHTML = `
        <div style="margin-bottom: 8px;">
          <input type="checkbox" class="select-order" data-index="${index}" />
          <label>دیاریکردن</label>
        </div>
        <div class="order-header">
          <span>ناوی کریار: ${order.name}</span>
          <span>ژمارە مۆبایل: ${order.mobile}</span>
        </div>
        <div class="order-info">
          ناونیشان: ${order.address}<br/>
          GPS: ${order.gps}<br/>
          کاتی داواکاری: ${order.time}
        </div>
        <div class="products">${productsHTML}</div>
      `;

      ordersContainer.appendChild(orderHTML);
    });
  }

  function printSelectedOrders() {
    const selected = document.querySelectorAll('.select-order:checked');
    if (selected.length === 0) {
      alert("تکایە وەسڵێک دیاریبکە بۆ پرینت.");
      return;
    }

    const orders = getOrders();
    let htmlToPrint = `<html><head><title>وەسڵەکان</title><style>
      body { font-family: 'Rabar_013', sans-serif; direction: rtl; padding: 20px; }
      .order { page-break-after: always; border: 1px solid #ccc; padding: 20px; margin-bottom: 20px; }
      .order-header { display: flex; justify-content: space-between; font-weight: bold; margin-bottom: 10px; }
      .order-info { font-size: 14px; margin-bottom: 10px; }
      .product { border: 1px solid #aaa; padding: 10px; margin: 5px; display: inline-block; width: 120px; text-align: center; }
      .product img { width: 100%; height: 80px; object-fit: cover; margin-bottom: 5px; }
    </style></head><body>`;

    selected.forEach(input => {
      const index = parseInt(input.getAttribute('data-index'));
      const order = orders[index];

      htmlToPrint += `<div class="order">
        <div class="order-header">
          <span>ناوی کریار: ${order.name}</span>
          <span>ژمارە: ${order.mobile}</span>
        </div>
        <div class="order-info">
          ناونیشان: ${order.address}<br/>
          GPS: ${order.gps}<br/>
          کات: ${order.time}
        </div>
        <div class="products">
          ${order.products.map(p => `
            <div class="product">
              <img src="${p.image}" />
              <div>${p.name}</div>
              <div>${p.price.toLocaleString()} دینار</div>
            </div>
          `).join('')}
        </div>
      </div>`;
    });

    htmlToPrint += '</body></html>';

    const printWindow = window.open('', '', 'width=800,height=600');
    printWindow.document.write(htmlToPrint);
    printWindow.document.close();
    printWindow.focus();
    printWindow.print();
    printWindow.close();
  }

  function deleteSelectedOrders() {
    const selected = document.querySelectorAll('.select-order:checked');
    if (selected.length === 0) {
      alert("تکایە وەسڵێک دیاریبکە بۆ سڕینەوە.");
      return;
    }

    let orders = getOrders();
    const indicesToDelete = Array.from(selected).map(input => parseInt(input.getAttribute('data-index')));
    orders = orders.filter((_, index) => !indicesToDelete.includes(index));

    localStorage.setItem('orders', JSON.stringify(orders));
    renderOrders();
  }
</script>
