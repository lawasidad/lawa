<!DOCTYPE html>
<html lang="ku">
<head>
  <meta charset="UTF-8" />
  <title>داشبۆردی وەسلەکان</title>
  <style>
    body { font-family: sans-serif; padding: 20px; direction: rtl; background: #f9f9f9; }
    table { width: 100%; border-collapse: collapse; margin-top: 20px; }
    th, td { border: 1px solid #ccc; padding: 10px; text-align: right; }
    th { background: #eee; }
  </style>
</head>
<body>

<h2>وەسلە نێردراوەکان</h2>
<table>
  <thead>
    <tr>
      <th>ناو</th>
      <th>ژمارەی مۆبایل</th>
      <th>ناونیشان</th>
      <th>کاتی ناردن</th>
      <th>کاڵاکان</th>
      <th>نرخ گشتی</th>
    </tr>
  </thead>
  <tbody id="ordersTableBody">
    <!-- وەسلەکان لێرە دەبینرێن -->
  </tbody>
</table>

<script>
  function loadOrders() {
    const orders = JSON.parse(localStorage.getItem('orders') || '[]');
    const tbody = document.getElementById('ordersTableBody');
    tbody.innerHTML = '';

    orders.forEach(order => {
      const row = document.createElement('tr');

      const productsSummary = order.products.map(p =>
        `${p.name} (${p.quantity} x ${p.price} = ${p.totalPrice})`
      ).join('<br>');

      const total = order.products.reduce((sum, p) => sum + p.totalPrice, 0);

      row.innerHTML = `
        <td>${order.name}</td>
        <td>${order.mobile}</td>
        <td>${order.address}</td>
        <td>${order.time}</td>
        <td>${productsSummary}</td>
        <td>${total.toLocaleString()} دینار</td>
      `;
      tbody.appendChild(row);
    });
  }

  loadOrders();
</script>

</body>
</html>
